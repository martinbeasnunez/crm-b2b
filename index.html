
<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Mini-CRM B2B</title>
  <link rel="stylesheet" href="style.css" />
</head>
<body>
  <header class="sticky">
    <div class="wrap">
      <h1>Mini-CRM B2B</h1>
      <nav class="tabs">
        <button class="tab-btn" data-tab="leads">Leads</button>
        <button class="tab-btn" data-tab="pipeline">Pipeline</button>
        <button class="tab-btn" data-tab="plantillas">Plantillas</button>
        <button class="tab-btn" data-tab="recordatorios">Recordatorios</button>
        <button class="tab-btn" data-tab="importar">Importar</button>
      </nav>
    </div>
  </header>
  <main>
    <section id="tab-leads" class="panel">
      <div class="grid g-2">
        <div>
          <input type="search" id="leadSearch" placeholder="Buscar lead..." autocomplete="off" />
        </div>
        <div style="text-align:right">
          <button class="btn primary" id="addLeadBtn">Nuevo Lead</button>
        </div>
      </div>
      <div id="leadsTableWrap"></div>
    </section>
    <section id="tab-pipeline" class="panel hidden">
      <div id="kanbanWrap"></div>
    </section>
    <section id="tab-plantillas" class="panel hidden">
      <div class="grid g-2">
        <div><input type="text" id="tplInput" placeholder="Nueva plantilla..." /></div>
        <div style="text-align:right"><button class="btn primary" id="addTplBtn">Agregar</button></div>
      </div>
      <div id="tplList"></div>
    </section>
    <section id="tab-recordatorios" class="panel hidden">
      <div id="remindersContainer">
        <!-- El contenido se generará dinámicamente -->
      </div>
    </section>
    
    <!-- Dialog Recordatorio -->
    <dialog id="reminderDialog">
      <form method="dialog" class="dlg">
        <div class="dlg-h">Recordatorio</div>
        <div class="dlg-c grid g-2">
          <div>
            <label>Título</label>
            <input type="text" id="dlgRemTitle" required />
          </div>
          <div>
            <label>Fecha y hora</label>
            <input type="datetime-local" id="dlgRemDate" required />
          </div>
          <div>
            <label>Tipo</label>
            <select id="dlgRemType">
              <option value="call">Llamada</option>
              <option value="meeting">Reunión</option>
              <option value="email">Email</option>
              <option value="other">Otro</option>
            </select>
          </div>
          <div>
            <label>Lead asociado</label>
            <select id="dlgRemLead">
              <option value="">Sin lead</option>
            </select>
          </div>
          <div>
            <label>Prioridad</label>
            <select id="dlgRemPriority">
              <option value="high">Alta</option>
              <option value="medium">Media</option>
              <option value="low">Baja</option>
            </select>
          </div>
          <div class="g-2">
            <label>Notas</label>
            <textarea id="dlgRemNotes" rows="3"></textarea>
          </div>
        </div>
        <div class="dlg-f">
          <button type="button" class="btn danger" id="dlgRemDelete">Eliminar</button>
          <button type="button" class="btn ghost" id="dlgRemCancel">Cancelar</button>
          <button type="submit" class="btn primary">Guardar</button>
        </div>
      </form>
    </dialog>
    <section id="tab-importar" class="panel hidden">
      <div class="grid g-2">
        <div><input type="file" id="csvInput" accept=".csv" /></div>
        <div style="text-align:right">
          <button class="btn ghost" id="importBtn">Importar CSV</button>
          <button class="btn ghost" id="exportBtn">Exportar CSV</button>
        </div>
      </div>
      <div id="importResult"></div>
    </section>
  </main>
  <!-- Dialog Lead -->
  <!-- Dialog Lead -->
  <dialog id="leadDialog">
    <form method="dialog" class="dlg" onsubmit="return false">
      <div class="dlg-h">Lead</div>
      <div class="dlg-c grid g-2">
        <div>
          <label>Empresa</label>
          <input type="text" id="dlgCompany" required />
        </div>
        <div>
          <label>Contacto</label>
          <input type="text" id="dlgContact" required />
        </div>
        <div>
          <label>Teléfono</label>
          <input type="text" id="dlgPhone" />
        </div>
        <div>
          <label>Industria</label>
          <input type="text" id="dlgIndustry" />
        </div>
        <div>
          <label>Distrito</label>
          <input type="text" id="dlgDistrict" />
        </div>
        <div>
          <label>Tamaño</label>
          <input type="number" id="dlgSize" min="1" />
        </div>
        <div>
          <label>Email</label>
          <input type="email" id="dlgEmail" />
        </div>
        <div>
          <label>Notas</label>
          <input type="text" id="dlgNotes" />
        </div>
        <div>
          <label>Fuente</label>
          <input type="text" id="dlgSource" />
        </div>
        <div>
          <label>Estado</label>
          <select id="dlgStatus">
            <option value="Nuevo">Nuevo</option>
            <option value="Calificado">Calificado</option>
            <option value="En Conversación">En Conversación</option>
            <option value="Propuesta">Propuesta</option>
            <option value="Cerrado-Won">Cerrado-Won</option>
            <option value="Cerrado-Lost">Cerrado-Lost</option>
          </select>
        </div>
      </div>
      <div class="dlg-f">
        <button type="submit" class="btn primary">Guardar</button>
        <button type="button" class="btn ghost" id="dlgCancel">Cancelar</button>
        <button type="button" class="btn danger" id="dlgDelete">Eliminar</button>
      </div>
    </form>
  </dialog>
  <!-- Dialog Recordatorio -->
  <dialog id="remDialog">
    <form method="dialog" class="dlg">
      <div class="dlg-h">Recordatorio</div>
      <div class="dlg-c">
        <label>Texto</label>
        <input type="text" id="dlgRemText" required />
      </div>
      <div class="dlg-f">
        <button type="submit" class="btn primary">Guardar</button>
        <button type="button" class="btn ghost" id="dlgRemCancel">Cancelar</button>
        <button type="button" class="btn danger" id="dlgRemDelete">Eliminar</button>
      </div>
    </form>
  </dialog>
  <div id="toast" class="toast"></div>
  <script src="app.js" defer></script>
</body>
</html>
